{
  "datasets" : [ {
    "name" : "e24ed3dd",
    "displayName" : "Current Load",
    "query" : "select current_load As CURRRENT_LOAD\r\nfrom dev_edh.dummy.lab_data_status\r\nwhere test_source = :Lab \r\norder by current_end_date desc Limit 1",
    "parameters" : [ {
      "displayName" : "Lab",
      "keyword" : "Lab",
      "dataType" : "STRING",
      "defaultSelection" : {
        "values" : {
          "dataType" : "STRING",
          "values" : [ {
            "value" : "lab A"
          } ]
        }
      }
    } ]
  }, {
    "name" : "2892c55e",
    "displayName" : "Status",
    "query" : "select Upper(status) as Status\r\nfrom dev_edh.dummy.lab_data_status\r\nwhere test_source = :Lab\r\nlimit 1",
    "parameters" : [ {
      "displayName" : "Lab",
      "keyword" : "Lab",
      "dataType" : "STRING",
      "defaultSelection" : {
        "values" : {
          "dataType" : "STRING",
          "values" : [ {
            "value" : "lab A"
          } ]
        }
      }
    } ]
  }, {
    "name" : "935c0db1",
    "displayName" : "Table",
    "query" : "-- select  t1.*,\r\n-- t2.range_start, t2.range_end, t2.status, t2.load_start_date, t2.load_end_date\r\n-- from dev_edh.dummy.lab_data_count_gold t1\r\n-- inner join dev_edh.dummy.lab_data_status t2\r\n-- on t1.test_source = t2.test_source\r\n-- --and t1.test_date = t2.load_end_date\r\n-- where t1.Test_source=:Lab\r\n--  Limit 5;\r\n\r\nselect upper(test_source) as Lab_Name,\r\n       upper(status) as status_Edi,\r\n       case when :Lab='Lab B' then date_format(current_end_date,'MMM-yyyy') \r\n            else date_format(current_end_date,'dd-MM-yy') \r\n       end as TimeLine,\r\n       *\r\nfrom dev_edh.dummy.lab_data_status \r\nwhere test_source=:Lab\r\norder by cast(current_end_date as date) desc;\r\n--current_end_date desc\r\n\r\n-- select * from dev_edh.dummy.lab_data_status \r\n-- where test_source = 'Lab A'\r\n-- order by timestamp asc;",
    "parameters" : [ {
      "displayName" : "Lab",
      "keyword" : "Lab",
      "dataType" : "STRING",
      "defaultSelection" : {
        "values" : {
          "dataType" : "STRING",
          "values" : [ {
            "value" : "Lab B"
          } ]
        }
      }
    } ]
  } ],
  "pages" : [ {
    "name" : "601cf66c",
    "displayName" : "LAB RESULTS CURRENT LOAD PREDICTION",
    "layout" : [ {
      "widget" : {
        "name" : "ed2e322f",
        "queries" : [ {
          "name" : "main_query",
          "query" : {
            "datasetName" : "935c0db1",
            "fields" : [ {
              "name" : "current_load",
              "expression" : "`current_load`"
            } ],
            "disaggregated" : true
          }
        } ],
        "spec" : {
          "version" : 2,
          "widgetType" : "counter",
          "encodings" : {
            "value" : {
              "fieldName" : "current_load",
              "format" : {
                "type" : "number-plain",
                "abbreviation" : "compact",
                "decimalPlaces" : {
                  "type" : "max",
                  "places" : 2
                },
                "hideGroupSeparator" : false
              },
              "style" : {
                "fontSize" : 56,
                "color" : {
                  "themeColorType" : "visualizationColors",
                  "position" : 1
                }
              },
              "displayName" : "current_load"
            }
          },
          "frame" : {
            "showTitle" : true,
            "showDescription" : false,
            "title" : "Current Load"
          }
        }
      },
      "position" : {
        "x" : 0,
        "y" : 1,
        "width" : 1,
        "height" : 3
      }
    }, {
      "widget" : {
        "name" : "c020306f",
        "queries" : [ {
          "name" : "main_query",
          "query" : {
            "datasetName" : "935c0db1",
            "fields" : [ {
              "name" : "status_Edi",
              "expression" : "`status_Edi`"
            } ],
            "disaggregated" : true
          }
        } ],
        "spec" : {
          "version" : 2,
          "widgetType" : "counter",
          "encodings" : {
            "value" : {
              "fieldName" : "status_Edi",
              "style" : {
                "bold" : true,
                "rules" : [ {
                  "condition" : {
                    "operator" : "=",
                    "operand" : {
                      "type" : "data-value",
                      "value" : "WITHIN RANGE"
                    }
                  },
                  "color" : "#00A972",
                  "bold" : true
                }, {
                  "condition" : {
                    "operator" : "=",
                    "operand" : {
                      "type" : "data-value",
                      "value" : "OUT OF RANGE"
                    }
                  },
                  "color" : {
                    "themeColorType" : "visualizationColors",
                    "position" : 4
                  },
                  "bold" : true
                } ]
              },
              "displayName" : "status_Edi"
            }
          }
        }
      },
      "position" : {
        "x" : 1,
        "y" : 1,
        "width" : 2,
        "height" : 3
      }
    }, {
      "widget" : {
        "name" : "45b9322b",
        "queries" : [ {
          "name" : "main_query",
          "query" : {
            "datasetName" : "935c0db1",
            "fields" : [ {
              "name" : "test_source",
              "expression" : "`test_source`"
            }, {
              "name" : "range_start",
              "expression" : "`range_start`"
            }, {
              "name" : "range_end",
              "expression" : "`range_end`"
            }, {
              "name" : "TimeLine",
              "expression" : "`TimeLine`"
            }, {
              "name" : "current_load",
              "expression" : "`current_load`"
            }, {
              "name" : "status",
              "expression" : "`status`"
            } ],
            "disaggregated" : true
          }
        } ],
        "spec" : {
          "version" : 1,
          "widgetType" : "table",
          "encodings" : {
            "columns" : [ {
              "fieldName" : "test_source",
              "booleanValues" : [ "false", "true" ],
              "imageUrlTemplate" : "{{ @ }}",
              "imageTitleTemplate" : "{{ @ }}",
              "imageWidth" : "",
              "imageHeight" : "",
              "linkUrlTemplate" : "{{ @ }}",
              "linkTextTemplate" : "{{ @ }}",
              "linkTitleTemplate" : "{{ @ }}",
              "linkOpenInNewTab" : true,
              "type" : "string",
              "displayAs" : "string",
              "visible" : true,
              "order" : 0,
              "title" : "LAB",
              "allowSearch" : false,
              "alignContent" : "left",
              "allowHTML" : false,
              "highlightLinks" : false,
              "useMonospaceFont" : false,
              "preserveWhitespace" : false,
              "displayName" : "test_source"
            }, {
              "fieldName" : "range_start",
              "numberFormat" : "0.00",
              "booleanValues" : [ "false", "true" ],
              "imageUrlTemplate" : "{{ @ }}",
              "imageTitleTemplate" : "{{ @ }}",
              "imageWidth" : "",
              "imageHeight" : "",
              "linkUrlTemplate" : "{{ @ }}",
              "linkTextTemplate" : "{{ @ }}",
              "linkTitleTemplate" : "{{ @ }}",
              "linkOpenInNewTab" : true,
              "type" : "float",
              "displayAs" : "string",
              "visible" : true,
              "order" : 2,
              "title" : "RANGE START",
              "allowSearch" : false,
              "alignContent" : "center",
              "allowHTML" : false,
              "highlightLinks" : false,
              "useMonospaceFont" : false,
              "preserveWhitespace" : false,
              "displayName" : "range_start"
            }, {
              "fieldName" : "range_end",
              "numberFormat" : "0.00",
              "booleanValues" : [ "false", "true" ],
              "imageUrlTemplate" : "{{ @ }}",
              "imageTitleTemplate" : "{{ @ }}",
              "imageWidth" : "",
              "imageHeight" : "",
              "linkUrlTemplate" : "{{ @ }}",
              "linkTextTemplate" : "{{ @ }}",
              "linkTitleTemplate" : "{{ @ }}",
              "linkOpenInNewTab" : true,
              "type" : "float",
              "displayAs" : "string",
              "visible" : true,
              "order" : 4,
              "title" : "RANGE END",
              "allowSearch" : false,
              "alignContent" : "center",
              "allowHTML" : false,
              "highlightLinks" : false,
              "useMonospaceFont" : false,
              "preserveWhitespace" : false,
              "displayName" : "range_end"
            }, {
              "fieldName" : "TimeLine",
              "booleanValues" : [ "false", "true" ],
              "imageUrlTemplate" : "{{ @ }}",
              "imageTitleTemplate" : "{{ @ }}",
              "imageWidth" : "",
              "imageHeight" : "",
              "linkUrlTemplate" : "{{ @ }}",
              "linkTextTemplate" : "{{ @ }}",
              "linkTitleTemplate" : "{{ @ }}",
              "linkOpenInNewTab" : true,
              "type" : "string",
              "displayAs" : "string",
              "visible" : true,
              "order" : 5,
              "title" : "TimeLine",
              "allowSearch" : false,
              "alignContent" : "left",
              "allowHTML" : false,
              "highlightLinks" : false,
              "useMonospaceFont" : false,
              "preserveWhitespace" : false,
              "displayName" : "TimeLine"
            }, {
              "fieldName" : "current_load",
              "numberFormat" : "0",
              "booleanValues" : [ "false", "true" ],
              "imageUrlTemplate" : "{{ @ }}",
              "imageTitleTemplate" : "{{ @ }}",
              "imageWidth" : "",
              "imageHeight" : "",
              "linkUrlTemplate" : "{{ @ }}",
              "linkTextTemplate" : "{{ @ }}",
              "linkTitleTemplate" : "{{ @ }}",
              "linkOpenInNewTab" : true,
              "type" : "integer",
              "displayAs" : "string",
              "visible" : true,
              "order" : 6,
              "title" : "CURRENT LOAD",
              "allowSearch" : false,
              "alignContent" : "center",
              "allowHTML" : false,
              "highlightLinks" : false,
              "useMonospaceFont" : false,
              "preserveWhitespace" : false,
              "displayName" : "current_load"
            }, {
              "fieldName" : "status",
              "booleanValues" : [ "false", "true" ],
              "imageUrlTemplate" : "{{ @ }}",
              "imageTitleTemplate" : "{{ @ }}",
              "imageWidth" : "",
              "imageHeight" : "",
              "linkUrlTemplate" : "{{ @ }}",
              "linkTextTemplate" : "{{ @ }}",
              "linkTitleTemplate" : "{{ @ }}",
              "linkOpenInNewTab" : true,
              "type" : "string",
              "displayAs" : "string",
              "visible" : true,
              "order" : 7,
              "title" : "STATUS",
              "allowSearch" : false,
              "alignContent" : "left",
              "allowHTML" : false,
              "highlightLinks" : false,
              "useMonospaceFont" : false,
              "preserveWhitespace" : false,
              "cellFormat" : {
                "default" : {
                  "foregroundColor" : {
                    "themeColorType" : "visualizationColors",
                    "position" : 4
                  }
                },
                "rules" : [ {
                  "if" : {
                    "column" : "status",
                    "fn" : "=",
                    "literal" : "within range"
                  },
                  "value" : {
                    "foregroundColor" : {
                      "themeColorType" : "visualizationColors",
                      "position" : 3
                    }
                  }
                }, {
                  "if" : {
                    "column" : "status",
                    "fn" : "=",
                    "literal" : "out of range"
                  },
                  "value" : {
                    "foregroundColor" : {
                      "themeColorType" : "visualizationColors",
                      "position" : 4
                    }
                  }
                } ]
              },
              "displayName" : "status"
            } ]
          },
          "invisibleColumns" : [ {
            "booleanValues" : [ "false", "true" ],
            "imageUrlTemplate" : "{{ @ }}",
            "imageTitleTemplate" : "{{ @ }}",
            "imageWidth" : "",
            "imageHeight" : "",
            "linkUrlTemplate" : "{{ @ }}",
            "linkTextTemplate" : "{{ @ }}",
            "linkTitleTemplate" : "{{ @ }}",
            "linkOpenInNewTab" : true,
            "name" : "Lab_Name",
            "type" : "string",
            "displayAs" : "string",
            "order" : 1,
            "title" : "Lab_Name",
            "allowSearch" : false,
            "alignContent" : "left",
            "allowHTML" : false,
            "highlightLinks" : false,
            "useMonospaceFont" : false,
            "preserveWhitespace" : false
          }, {
            "booleanValues" : [ "false", "true" ],
            "imageUrlTemplate" : "{{ @ }}",
            "imageTitleTemplate" : "{{ @ }}",
            "imageWidth" : "",
            "imageHeight" : "",
            "linkUrlTemplate" : "{{ @ }}",
            "linkTextTemplate" : "{{ @ }}",
            "linkTitleTemplate" : "{{ @ }}",
            "linkOpenInNewTab" : true,
            "name" : "status_Edi",
            "type" : "string",
            "displayAs" : "string",
            "order" : 3,
            "title" : "status_Edi",
            "allowSearch" : false,
            "alignContent" : "left",
            "allowHTML" : false,
            "highlightLinks" : false,
            "useMonospaceFont" : false,
            "preserveWhitespace" : false
          }, {
            "dateTimeFormat" : "YYYY-MM-DD",
            "booleanValues" : [ "false", "true" ],
            "imageUrlTemplate" : "{{ @ }}",
            "imageTitleTemplate" : "{{ @ }}",
            "imageWidth" : "",
            "imageHeight" : "",
            "linkUrlTemplate" : "{{ @ }}",
            "linkTextTemplate" : "{{ @ }}",
            "linkTitleTemplate" : "{{ @ }}",
            "linkOpenInNewTab" : true,
            "name" : "load_start_date",
            "type" : "date",
            "displayAs" : "datetime",
            "order" : 8,
            "title" : "load_start_date",
            "allowSearch" : false,
            "alignContent" : "right",
            "allowHTML" : false,
            "highlightLinks" : false,
            "useMonospaceFont" : false,
            "preserveWhitespace" : false
          }, {
            "dateTimeFormat" : "YYYY-MM-DD",
            "booleanValues" : [ "false", "true" ],
            "imageUrlTemplate" : "{{ @ }}",
            "imageTitleTemplate" : "{{ @ }}",
            "imageWidth" : "",
            "imageHeight" : "",
            "linkUrlTemplate" : "{{ @ }}",
            "linkTextTemplate" : "{{ @ }}",
            "linkTitleTemplate" : "{{ @ }}",
            "linkOpenInNewTab" : true,
            "name" : "load_end_date",
            "type" : "date",
            "displayAs" : "datetime",
            "order" : 9,
            "title" : "load_end_date",
            "allowSearch" : false,
            "alignContent" : "right",
            "allowHTML" : false,
            "highlightLinks" : false,
            "useMonospaceFont" : false,
            "preserveWhitespace" : false
          }, {
            "dateTimeFormat" : "YYYY-MM-DD",
            "booleanValues" : [ "false", "true" ],
            "imageUrlTemplate" : "{{ @ }}",
            "imageTitleTemplate" : "{{ @ }}",
            "imageWidth" : "",
            "imageHeight" : "",
            "linkUrlTemplate" : "{{ @ }}",
            "linkTextTemplate" : "{{ @ }}",
            "linkTitleTemplate" : "{{ @ }}",
            "linkOpenInNewTab" : true,
            "name" : "current_start_date",
            "type" : "date",
            "displayAs" : "datetime",
            "order" : 10,
            "title" : "current_start_date",
            "allowSearch" : false,
            "alignContent" : "right",
            "allowHTML" : false,
            "highlightLinks" : false,
            "useMonospaceFont" : false,
            "preserveWhitespace" : false
          }, {
            "dateTimeFormat" : "YYYY-MM-DD",
            "booleanValues" : [ "false", "true" ],
            "imageUrlTemplate" : "{{ @ }}",
            "imageTitleTemplate" : "{{ @ }}",
            "imageWidth" : "",
            "imageHeight" : "",
            "linkUrlTemplate" : "{{ @ }}",
            "linkTextTemplate" : "{{ @ }}",
            "linkTitleTemplate" : "{{ @ }}",
            "linkOpenInNewTab" : true,
            "name" : "current_end_date",
            "type" : "date",
            "displayAs" : "datetime",
            "order" : 11,
            "title" : "current_end_date",
            "allowSearch" : false,
            "alignContent" : "right",
            "allowHTML" : false,
            "highlightLinks" : false,
            "useMonospaceFont" : false,
            "preserveWhitespace" : false
          }, {
            "dateTimeFormat" : "YYYY-MM-DD HH:mm:ss.SSS",
            "booleanValues" : [ "false", "true" ],
            "imageUrlTemplate" : "{{ @ }}",
            "imageTitleTemplate" : "{{ @ }}",
            "imageWidth" : "",
            "imageHeight" : "",
            "linkUrlTemplate" : "{{ @ }}",
            "linkTextTemplate" : "{{ @ }}",
            "linkTitleTemplate" : "{{ @ }}",
            "linkOpenInNewTab" : true,
            "name" : "timestamp",
            "type" : "datetime",
            "displayAs" : "datetime",
            "order" : 12,
            "title" : "timestamp",
            "allowSearch" : false,
            "alignContent" : "right",
            "allowHTML" : false,
            "highlightLinks" : false,
            "useMonospaceFont" : false,
            "preserveWhitespace" : false
          } ],
          "allowHTMLByDefault" : false,
          "itemsPerPage" : 15,
          "paginationSize" : "default",
          "condensed" : true,
          "withRowNumber" : false
        }
      },
      "position" : {
        "x" : 0,
        "y" : 4,
        "width" : 3,
        "height" : 6
      }
    }, {
      "widget" : {
        "name" : "db66fc01",
        "queries" : [ {
          "name" : "main_query",
          "query" : {
            "datasetName" : "935c0db1",
            "fields" : [ {
              "name" : "sum(current_load)",
              "expression" : "SUM(`current_load`)"
            }, {
              "name" : "status",
              "expression" : "`status`"
            } ],
            "disaggregated" : false
          }
        } ],
        "spec" : {
          "version" : 3,
          "widgetType" : "pie",
          "encodings" : {
            "angle" : {
              "fieldName" : "sum(current_load)",
              "scale" : {
                "type" : "quantitative"
              },
              "displayName" : "Sum of current_load"
            },
            "color" : {
              "fieldName" : "status",
              "scale" : {
                "type" : "categorical",
                "mappings" : [ {
                  "value" : "out of range",
                  "color" : "#df7165"
                }, {
                  "value" : "within range",
                  "color" : {
                    "themeColorType" : "visualizationColors",
                    "position" : 3
                  }
                } ]
              },
              "displayName" : "status"
            },
            "label" : {
              "show" : true
            },
            "extra" : [ {
              "fieldName" : "status",
              "displayName" : "status"
            } ]
          },
          "frame" : {
            "title" : "Status Pie Chart",
            "showTitle" : false
          }
        }
      },
      "position" : {
        "x" : 0,
        "y" : 10,
        "width" : 3,
        "height" : 6
      }
    }, {
      "widget" : {
        "name" : "bb65322b",
        "queries" : [ {
          "name" : "main_query",
          "query" : {
            "datasetName" : "935c0db1",
            "fields" : [ {
              "name" : "percentile(current_load, percentage=0_5)",
              "expression" : "PERCENTILE(`current_load`, 0.5)"
            }, {
              "name" : "TimeLine",
              "expression" : "`TimeLine`"
            }, {
              "name" : "sum(current_load)",
              "expression" : "SUM(`current_load`)"
            } ],
            "disaggregated" : false
          }
        } ],
        "spec" : {
          "version" : 3,
          "widgetType" : "bar",
          "encodings" : {
            "x" : {
              "fieldName" : "TimeLine",
              "axis" : {
                "title" : "Time Line"
              },
              "scale" : {
                "type" : "categorical",
                "sort" : {
                  "by" : "custom-order",
                  "orderedValues" : [ "Jun-2024", "Jul-2024", "Aug-2024", "Sep-2024" ]
                }
              },
              "displayName" : "Time Line"
            },
            "y" : {
              "fieldName" : "sum(current_load)",
              "scale" : {
                "type" : "quantitative"
              },
              "axis" : {
                "title" : "Total Load"
              },
              "displayName" : "Total Load"
            },
            "extra" : [ {
              "fieldName" : "percentile(current_load, percentage=0_5)",
              "displayName" : "50th Percentile of current_load"
            } ]
          }
        }
      },
      "position" : {
        "x" : 3,
        "y" : 4,
        "width" : 3,
        "height" : 12
      }
    }, {
      "widget" : {
        "name" : "ca4216ab",
        "queries" : [ {
          "name" : "main_query",
          "query" : {
            "datasetName" : "935c0db1",
            "fields" : [ {
              "name" : "LabName",
              "expression" : "`LabName`"
            } ],
            "disaggregated" : true
          }
        } ],
        "spec" : {
          "version" : 2,
          "widgetType" : "counter",
          "encodings" : {
            "value" : {
              "fieldName" : "LabName",
              "style" : {
                "bold" : true,
                "color" : {
                  "themeColorType" : "visualizationColors",
                  "position" : 5
                }
              },
              "displayName" : "LabName"
            }
          }
        }
      },
      "position" : {
        "x" : 3,
        "y" : 2,
        "width" : 3,
        "height" : 2
      }
    }, {
      "widget" : {
        "name" : "b34ea016",
        "queries" : [ {
          "name" : "parameter_dashboards/01f039b1e61a1ae784d97e19fb61366f/datasets/01f03b16b3b81a5287edfdd9a6f9d12c_Lab",
          "query" : {
            "datasetName" : "935c0db1",
            "parameters" : [ {
              "name" : "Lab",
              "keyword" : "Lab"
            } ],
            "disaggregated" : false
          }
        } ],
        "spec" : {
          "version" : 2,
          "widgetType" : "filter-single-select",
          "encodings" : {
            "fields" : [ {
              "parameterName" : "Lab",
              "queryName" : "parameter_dashboards/01f039b1e61a1ae784d97e19fb61366f/datasets/01f03b16b3b81a5287edfdd9a6f9d12c_Lab"
            } ]
          },
          "frame" : {
            "showTitle" : true,
            "title" : "SELECT LAB",
            "showDescription" : false,
            "headerAlignment" : "center"
          }
        }
      },
      "position" : {
        "x" : 0,
        "y" : 0,
        "width" : 3,
        "height" : 1
      }
    }, {
      "widget" : {
        "name" : "257b0d5a",
        "textbox_spec" : "##                       LOAD PREDICTION REPORT: LAB DATA"
      },
      "position" : {
        "x" : 3,
        "y" : 0,
        "width" : 3,
        "height" : 2
      }
    } ],
    "pageType" : "PAGE_TYPE_CANVAS"
  } ]
}